<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>图片裁剪</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
	<style type="text/css">
		body{
			padding:0;
			margin:0;
		}
		.container{
			position: absolute;
			top: 200px;
			left: 20px;
		}
	</style>
    <div class="container">
      <img id="resultImg" src="" />
    </div>
    <script type="text/javascript" src="imagecrop.js"></script>
		<script type="text/javascript">
	let positionArr = []    
	const img = new Image()
	img.setAttribute('crossOrigin', 'anonymous')
	img.src = 'https://img1.baidu.com/it/u=442067351,3877875284&fm=253&fmt=auto&app=138&f=JPEG?w=749&h=500'
	img.onload = () => {
    // 多边形区域data: [[[x1,y1], [x2,y2], [x3,y3], [x4,y4]], [], []]
    const data = [[0,0], [240,100], [480,0], [480,800], [240,700], [0,800]]
    const dataURL = imagecrop(img, data, positionArr)
    console.log('positionArr=', positionArr);
    console.log('dataURL=', dataURL);
    document.getElementById("resultImg").src=dataURL;
	}
		</script>
</body>
</html>
